version: 1
Resources:
  - TargetService:
      Type: AWS::ECS::Service
      Properties:
        TaskDefinition: "arn:aws:ecs:eu-north-1:476683275943:task-definition/awesome-project-task:latest"
        LoadBalancerInfo:
          ContainerName: "awesome-project-container"
          ContainerPort: 81
Hooks:
  - BeforeInstall:
      Location: scripts/before_install.sh
      Timeout: 300
      Runas: root
  - AfterInstall:
      Location: scripts/after_install.sh
      Timeout: 300
      Runas: root
  - ApplicationStart:
      Location: scripts/start_server.sh
      Timeout: 300
      Runas: root
  - ValidateService:
      Location: scripts/validate_service.sh
      Timeout: 300
      Runas: root